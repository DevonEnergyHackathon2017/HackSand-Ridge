var SD=SD||{};SD.Client=SD.Client||{};SD.Client.HandleCacheEvent=function(n){switch(n.target.status){case n.target.UPDATEREADY:alert('An updated version of this site is now available.\nClick "OK" to download it.');window.location.reload();break;case n.target.OBSOLETE:console.log("Cache Obsolete");alert("Please connect to the SD network then refresh this page");break;default:SD.Client.CacheReady()}};SD.Client.HandleCacheError=function(){console.log("Cache Error");SD.Client.CacheReady()};SD.Client.CacheReady=function(){SD.Client.RaiseCustomEvent(document,SD.Client.CreateCustomEvent(document,"sd.client.cacheready"))};SD.Client.CreateCustomEvent=function(n,t){var i;return n.createEvent?(i=n.createEvent("HTMLEvents"),i.initEvent(t,!0,!0)):(i=n.createEventObject(),i.eventType=t),i.eventName=t,i};SD.Client.RaiseCustomEvent=function(n,t){n.createEvent?n.dispatchEvent(t):n.fireEvent("on"+t.eventType,t)},function(){window.applicationCache&&(applicationCache.addEventListener("cached",SD.Client.HandleCacheEvent,!1),applicationCache.addEventListener("error",SD.Client.HandleCacheError,!1),applicationCache.addEventListener("noupdate",SD.Client.HandleCacheEvent,!1),applicationCache.addEventListener("obsolete",SD.Client.HandleCacheEvent,!1),applicationCache.addEventListener("updateready",SD.Client.HandleCacheEvent,!1))}();